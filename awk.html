<html><head><title>awk.txt.txt.html</title><style type="text/css">@page { margin: 2cm }p { margin-bottom: 0.25cm; line-height: 120% }td p { margin-bottom: 0cm }</style></head><body><h1>awk.txt.txt.html</h1><br>GAWK(1)Utility CommandsGAWK(1) <br>  <br>  <br>  <br> NAME <br>  gawk - pattern scanning and processing language <br>  <br> SYNOPSIS <br>  gawk [ POSIX or GNU style options ] -f program-file [ -- ] file ... <br>  gawk [ POSIX or GNU style options ] [ -- ] program-text file ... <br>  <br> DESCRIPTION <br>  GawkistheGNU Project's implementation of the AWK programming lan‐ <br>  guage.It conforms to the definition ofthelanguageinthePOSIX <br>  1003.1Standard. This version in turn is based on the description in <br>  The AWK Programming Language, by Aho, Kernighan, and Weinberger. Gawk <br>  providesthe additional features found in the current version of Brian <br>  Kernighan's awk and a number of GNU-specific extensions. <br>  <br>  The command line consists of options to gawk itself,theAWKprogram <br>  text(ifnot supplied via the -f or --file options), and values to be <br>  made available in the ARGC and ARGV pre-defined AWK variables. <br>  <br>  When gawk is invoked with the --profileoption,itstartsgathering <br>  profiling statistics from the execution of the program.Gawk runs more <br>  slowly in this mode, and automatically produces an execution profile in <br>  the file awkprof.out when done.See the --profile option, below. <br>  <br>  Gawkalso has an integrated debugger. An interactive debugging session <br>  can be started by supplying the --debug option to the command line.In <br>  this mode of execution, gawk loads the AWK source code and then prompts <br>  for debugging commands.Gawk can only debug AWKprogramsourcepro‐ <br>  videdwiththe -f option.The debugger is documented in GAWK: Effec‐ <br>  tive AWK Programming. <br>  <br> OPTION FORMAT <br>  Gawk options may be either traditional POSIX-style one letteroptions, <br>  orGNU-stylelongoptions. POSIXoptions start with a single “-”, <br>  while long options start with “--”.Long options are provided for both <br>  GNU-specific features and for POSIX-mandated features. <br>  <br>  Gawk-specificoptionsaretypically used in long-option form.Argu‐ <br>  ments to long options are either joined with the option by an=sign, <br>  with no intervening spaces, or they may be provided in the next command <br>  line argument.Long options may be abbreviated, as long as theabbre‐ <br>  viation remains unique. <br>  <br>  Additionally,everylongoption has a corresponding short option, so <br>  that the option's functionality may be used from within -! executable <br>  scripts. <br>  <br> OPTIONS <br>  Gawk accepts the following options.Standard options are listed first, <br>  followed by options for gawk extensions, listed alphabetically by short <br>  option. <br>  <br>  -f program-file <br>  --file program-file <br> Readthe AWK program source from the file program-file, instead <br> of from thefirstcommandlineargument. Multiple-f(or <br> --file) options may be used. <br>  <br>  -F fs <br>  --field-separator fs <br> Use fs for the input field separator (the value of the FS prede‐ <br> fined variable). <br>  <br>  -v var=val <br>  --assign var=val <br> Assign the value val to the variable var,beforeexecutionof <br> theprogrambegins.Such variable values are available to the <br> BEGIN rule of an AWK program. <br>  <br>  -b <br>  --characters-as-bytes <br> Treat all input data as single-byte characters. In otherwords, <br> don'tpay any attention to the locale information when attempt‐ <br> ing to process strings asmultibytecharacters. The--posix <br> option overrides this one. <br>  <br>  -c <br>  --traditional <br> Runin compatibility mode.In compatibility mode, gawk behaves <br> identically to Brian Kernighan's awk; none oftheGNU-specific <br> extensionsare recognized.See GNU EXTENSIONS, below, for more <br> information. <br>  <br>  -C <br>  --copyright <br> Print the short version of the GNU copyright information message <br> on the standard output and exit successfully. <br>  <br>  -d[file] <br>  --dump-variables[=file] <br> Printasorted list of global variables, their types and final <br> values to file.If no file is provided, gawk uses a filenamed <br> awkvars.out in the current directory. <br> Havinga list of all the global variables is a good way to look <br> for typographical errors in your programs.You wouldalsouse <br> this option if you have a large program with a lot of functions, <br> and you want to be sure that your functions don'tinadvertently <br> useglobalvariablesthatyou meant to be local.(This is a <br> particularly easy mistake to makewithsimplevariablenames <br> like i, j, and so on.) <br>  <br>  -D[file] <br>  --debug[=file] <br> EnabledebuggingofAWKprograms. By default, the debugger <br> reads commands interactively from theterminal. Theoptional <br> fileargumentspecifies a file with a list of commands for the <br> debugger to execute non-interactively. <br>  <br>  -e program-text <br>  --source program-text <br> Use program-text as AWK program source code.This option allows <br> theeasyintermixing of library functions (used via the -f and <br> --file options) with source code entered onthecommandline. <br> Itisintended primarily for medium to large AWK programs used <br> in shell scripts. <br>  <br>  -E file <br>  --exec file <br> Similar to -f, however, this is optionisthelastonepro‐ <br> cessed. This should be used with -!scripts, particularly for <br> CGI applications, to avoid passing in options or source code (!) <br> onthecommand line from a URL.This option disables command- <br> line variable assignments. <br>  <br>  -g <br>  --gen-pot <br> Scan and parse the AWK program, and generate a GNU .pot(Porta‐ <br> ble Object Template) format file on standard output with entries <br> for all localizable strings in the program.The programitself <br> isnotexecuted. SeetheGNU gettext distribution for more <br> information on .pot files. <br>  <br>  -h <br>  --help Print a relatively short summary of the available options on the <br> standardoutput. (Per the GNU Coding Standards, these options <br> cause an immediate, successful exit.) <br>  <br>  -i include-file <br>  --include include-file <br> Load an awk source library.This searches for the library using <br> theAWKPATH environment variable.If the initial search fails, <br> another attempt will be made after appendingthe.awksuffix. <br> Thefilewill be loaded only once (i.e., duplicates are elimi‐ <br> nated), and thecodedoesnotconstitutethemainprogram <br> source. <br>  <br>  -l lib <br>  --load lib <br> Loada shared library lib.This searches for the library using <br> the AWKLIBPATH environmentvariable. Iftheinitialsearch <br> fails,another attempt will be made after appending the default <br> shared library suffix for the platform.The library initializa‐ <br> tion routine is expected to be named dl_load(). <br>  <br>  -L [value] <br>  --lint[=value] <br> Provide warnings about constructs that are dubious or non-porta‐ <br> ble to other AWK implementations.With an optional argumentof <br> fatal,lint warnings become fatal errors.This may be drastic, <br> but its use will certainly encourage the development ofcleaner <br> AWKprograms.With an optional argument of invalid, only warn‐ <br> ings about things that are actually invalid are issued. (This is <br> not fully implemented yet.) <br>  <br>  -M <br>  --bignum <br> Force arbitrary precision arithmetic on numbers. This option has <br> no effect if gawk is not compiled to use theGNUMPFRandMP <br> libraries. <br>  <br>  -n <br>  --non-decimal-data <br> Recognizeoctal and hexadecimal values in input data.Use this <br> option with great caution! <br>  <br>  -N <br>  --use-lc-numeric <br> This forces gawk to use thelocale'sdecimalpointcharacter <br> whenparsinginput data.Although the POSIX standard requires <br> this behavior, and gawk does so when --posix is ineffect,the <br> defaultistofollow traditional behavior and use a period as <br> the decimal point, even in locales where the period isnotthe <br> decimalpointcharacter. Thisoptionoverrides the default <br> behavior, without the full draconian strictness ofthe--posix <br> option. <br>  <br>  -o[file] <br>  --pretty-print[=file] <br> Outputapretty printed version of the program to file.If no <br> file is provided, gawk uses a file named awkprof.out in the cur‐ <br> rent directory. <br>  <br>  -O <br>  --optimize <br> Enableoptimizationsupontheinternal representation of the <br> program.Currently, this includes simple constant-folding,and <br> tailcalleliminationfor recursive functions. The gawk main‐ <br> tainer hopes to add additional optimizations over time. <br>  <br>  -p[prof-file] <br>  --profile[=prof-file] <br> Start a profiling session, and send the profiling data toprof- <br> file. The default is awkprof.out.The profile contains execu‐ <br> tion counts of each statement in the program in the leftmargin <br> and function call counts for each user-defined function. <br>  <br>  -P <br>  --posix <br> Thisturns on compatibility mode, with the following additional <br> restrictions: <br>  <br> · _x escape sequences are not recognized. <br>  <br> · Only space and tab act as field separators when FS is set to a <br> single space, newline does not. <br>  <br> · You cannot continue lines after ?and :. <br>  <br> · The synonym func for the keyword function is not recognized. <br>  <br> · The operators ** and **= cannot be used in place of ^ and ^=. <br>  <br>  -r <br>  --re-interval <br> Enabletheuseofinterval expressions in regular expression <br> matching (see Regular Expressions, below).Interval expressions <br> were not traditionally available in the AWK language.The POSIX <br> standard added them, to make awk and egrep consistent witheach <br> other.They are enabled by default, but this option remains for <br> use with --traditional. <br>  <br>  -S <br>  --sandbox <br> Runs gawk in sandboxmode,disablingthesystem()function, <br> inputredirectionwithgetline, output redirection with print <br> and printf, and loading dynamic extensions. Commandexecution <br> (through pipelines) is also disabled.This effectively blocks a <br> script from accessing localresources(exceptforthefiles <br> specified on the command line). <br>  <br>  -t <br>  --lint-old <br> Providewarningsabout constructs that are not portable to the <br> original version of UNIX awk. <br>  <br>  -V <br>  --version <br> Print version information for this particular copyofgawkon <br> thestandardoutput.This is useful mainly for knowing if the <br> current copy of gawk on your system is up to datewithrespect <br> towhatever the Free Software Foundation is distributing.This <br> is also useful when reporting bugs.(Per the GNUCodingStan‐ <br> dards, these options cause an immediate, successful exit.) <br>  <br>  -- Signal the end of options. This is useful to allow further argu‐ <br> ments to the AWK program itself to start with a “-”.Thispro‐ <br> videsconsistencywith the argument parsing convention used by <br> most other POSIX programs. <br>  <br>  In compatibility mode, any other options are flaggedasinvalid,but <br>  areotherwiseignored. In normal operation, as long as program text <br>  has been supplied, unknown options are passed on to the AWK programin <br>  the ARGV array for processing.This is particularly useful for running <br>  AWK programs via the “-!” executable interpreter mechanism. <br>  <br>  For POSIX compatibility, the -W option may beused,followedbythe <br>  name of a long option. <br>  <br> AWK PROGRAM EXECUTION <br>  AnAWK program consists of a sequence of pattern-action statements and <br>  optional function definitions. <br>  <br> @include "filename" <br> @load "filename" <br> pattern { action statements } <br> function name(parameter list) { statements } <br>  <br>  Gawk first reads the program source from the program-file(s) ifspeci‐ <br>  fied, from arguments to --source, or from the first non-option argument <br>  on the command line.The -f and --source options may be usedmultiple <br>  timesonthe command line.Gawk reads the program text as if all the <br>  program-files and commandlinesourcetextshadbeenconcatenated <br>  together. Thisisusefulforbuilding libraries of AWK functions, <br>  without having to include them in each new AWK program that usesthem. <br>  It also provides the ability to mix library functions with command line <br>  programs. <br>  <br>  In addition, lines beginning with @include may be used to include other <br>  sourcefilesinto your program, making library use even easier.This <br>  is equivalent to using the -i option. <br>  <br>  Lines beginning with @load may be used to loadsharedlibrariesinto <br>  your program.This is equivalent to using the -l option. <br>  <br>  TheenvironmentvariableAWKPATH specifies a search path to use when <br>  finding source files named with the -f and -i options.Ifthisvari‐ <br>  abledoesnotexist,thedefault path is ".:/usr/local/share/awk". <br>  (The actual directory may vary, depending upon how gawk wasbuiltand <br>  installed.)If a file name given to the -f option contains a “/” char‐ <br>  acter, no path search is performed. <br>  <br>  The environment variable AWKLIBPATH specifies a search path to use when <br>  findingsourcefiles named with the -l option.If this variable does <br>  not exist, the default path is".:/usr/local/lib/gawk". (Theactual <br>  directory may vary, depending upon how gawk was built and installed.) <br>  <br>  Gawk executes AWK programs in the following order.First, all variable <br>  assignments specified via the -v option are performed.Next, gawk com‐ <br>  pilesthe program into an internal form.Then, gawk executes the code <br>  in the BEGIN rule(s) (if any), and thenproceedstoreadeachfile <br>  namedintheARGVarray(up to ARGV[ARGC]).If there are no files <br>  named on the command line, gawk reads the standard input. <br>  <br>  If a filename on the command line has the form var=val it is treated as <br>  avariableassignment. Thevariable var will be assigned the value <br>  val.(This happens after any BEGIN rule(s) havebeenrun.) Command <br>  linevariable assignment is most useful for dynamically assigning val‐ <br>  ues to the variables AWK uses tocontrolhowinputisbrokeninto <br>  fieldsand records.It is also useful for controlling state if multi‐ <br>  ple passes are needed over a single data file. <br>  <br>  If the value of a particular element of ARGV is empty (""), gawkskips <br>  over it. <br>  <br>  Foreachinputfile,ifa BEGINFILE rule exists, gawk executes the <br>  associated code before processing the contents of the file.Similarly, <br>  gawkexecutesthecodeassociated with ENDFILE after processing the <br>  file. <br>  <br>  For each record in the input, gawk tests to see if it matches anypat‐ <br>  ternintheAWKprogram.For each pattern that the record matches, <br>  gawk executes the associated action.The patterns aretestedinthe <br>  order they occur in the program. <br>  <br>  Finally,afterallthe input is exhausted, gawk executes the code in <br>  the END rule(s) (if any). <br>  <br>  Command Line Directories <br>  According to POSIX, files named on the awk command linemustbetext <br>  files. Thebehavior is ``undefined'' if they are not.Most versions <br>  of awk treat a directory on the command line as a fatal error. <br>  <br>  Starting with version 4.0 of gawk, a directory on the command line pro‐ <br>  duces a warning, but is otherwise skipped.If either of the --posix or <br>  --traditional options is given, then gawk reverts to treatingdirecto‐ <br>  ries on the command line as a fatal error. <br>  <br> VARIABLES, RECORDS AND FIELDS <br>  AWK variables are dynamic; they come into existence when they are first <br>  used.Their values are either floating-point numbersorstrings,or <br>  both,dependingupon how they are used.AWK also has one dimensional <br>  arrays; arrays with multiple dimensions may besimulated. Gawkpro‐ <br>  videstruearraysof arrays; see Arrays, below.Several pre-defined <br>  variables are set as a program runs; these are described as neededand <br>  summarized below. <br>  <br>  Records <br>  Normally, records are separated by newline characters.You can control <br>  how records are separated by assigning values to the built-invariable <br>  RS. IfRS is any single character, that character separates records. <br>  Otherwise, RS is a regular expression.Text in the input thatmatches <br>  thisregular expression separates the record.However, in compatibil‐ <br>  ity mode, only the first character of its string value is used for sep‐ <br>  aratingrecords. IfRSis set to the null string, then records are <br>  separated by blank lines.When RS is set to the null string, thenew‐ <br>  linecharacteralways acts as a field separator, in addition to what‐ <br>  ever value FS may have. <br>  <br>  Fields <br>  As each input record is read, gawk splits the record into fields, using <br>  the value of the FS variable as the field separator.If FS is a single <br>  character, fields are separated by that character.If FS isthenull <br>  string,then each individual character becomes a separate field.Oth‐ <br>  erwise, FS is expected to be a full regular expression.In the special <br>  casethat FS is a single space, fields are separated by runs of spaces <br>  and/or tabs and/or newlines.(But see the section POSIX COMPATIBILITY, <br>  below). NOTE:Thevalueof IGNORECASE (see below) also affects how <br>  fields are split when FS is a regular expression, and howrecordsare <br>  separated when RS is a regular expression. <br>  <br>  IftheFIELDWIDTHSvariable is set to a space separated list of num‐ <br>  bers, each field is expected to have fixed width, andgawksplitsup <br>  therecordusingthespecified widths.The value of FS is ignored. <br>  Assigning a new value to FS or FPAT overrides the use of FIELDWIDTHS. <br>  <br>  Similarly, if the FPAT variable is set to a string representing a regu‐ <br>  lar expression, each field is made up of text that matches that regular <br>  expression. In this case, the regular expression describesthefields <br>  themselves, instead of the text that separates the fields.Assigning a <br>  new value to FS or FIELDWIDTHS overrides the use of FPAT. <br>  <br>  Each field in the input record may be referenced by itsposition:$1, <br>  $2,and so on.$0 is the whole record.Fields need not be referenced <br>  by constants: <br>  <br> n = 5 <br> print $n <br>  <br>  prints the fifth field in the input record. <br>  <br>  The variable NF is set to the totalnumberoffieldsintheinput <br>  record. <br>  <br>  Referencesto non-existent fields (i.e., fields after $NF) produce the <br>  null-string.However, assigning to a non-existent field (e.g., $(NF+2) <br>  = 5) increases the value of NF, creates any intervening fields with the <br>  null string as their values, and causes the value of $0toberecom‐ <br>  puted, with the fields being separated by the value of OFS.References <br>  to negative numbered fieldscauseafatalerror. DecrementingNF <br>  causesthevaluesoffieldspast the new value to be lost, and the <br>  value of $0 to be recomputed, with the fields beingseparatedbythe <br>  value of OFS. <br>  <br>  Assigningavalueto an existing field causes the whole record to be <br>  rebuilt when $0 is referenced.Similarly,assigningavalueto$0 <br>  causes the record to be resplit, creating new values for the fields. <br>  <br>  Built-in Variables <br>  Gawk's built-in variables are: <br>  <br>  ARGCThenumberofcommandlinearguments (does not include <br>  options to gawk, or the program source). <br>  <br>  ARGINDThe index in ARGV of the current file being processed. <br>  <br>  ARGVArray of command line arguments.The array is indexed from <br>  0toARGC - 1.Dynamically changing the contents of ARGV <br>  can control the files used for data. <br>  <br>  BINMODE On non-POSIX systems, specifies use of“binary”modefor <br>  allfileI/O.Numeric values of 1, 2, or 3, specify that <br>  input files, outputfiles,orallfiles,respectively, <br>  shoulduse binary I/O.String values of "r", or "w" spec‐ <br>  ify that input files, or output files, respectively, should <br>  use binary I/O.String values of "rw" or "wr" specify that <br>  all files should use binary I/O.Any other string value is <br>  treated as "rw", but generates a warning message. <br>  <br>  CONVFMT The conversion format for numbers, "%.6g", by default. <br>  <br>  ENVIRON Anarray containing the values of the current environment. <br>  The array is indexed bytheenvironmentvariables,each <br>  elementbeingthevalueofthatvariable (e.g., ENVI‐ <br>  RON["HOME"] might be "/home/arnold").Changing thisarray <br>  does not affect the environment seen by programs which gawk <br>  spawns via redirection or the system() function. <br>  <br>  ERRNO If a system error occurs eitherdoingaredirectionfor <br>  getline,duringaread for getline, or during a close(), <br>  then ERRNO will contain a string describing the error.The <br>  value is subject to translation in non-English locales. <br>  <br>  FIELDWIDTHS Awhitespaceseparatedlistof field widths.When set, <br>  gawk parses the input into fields of fixedwidth,instead <br>  ofusing the value of the FS variable as the field separa‐ <br>  tor.See Fields, above. <br>  <br>  FILENAMEThe name of the current input file.If no files are speci‐ <br>  fiedonthecommandline, the value of FILENAME is “-”. <br>  However,FILENAMEisundefinedinsidetheBEGINrule <br>  (unless set by getline). <br>  <br>  FNR The input record number in the current input file. <br>  <br>  FPATAregular expression describing the contents of the fields <br>  in a record.When set, gawk parses the input intofields, <br>  wherethefields match the regular expression, instead of <br>  using the value of the FS variable as the fieldseparator. <br>  See Fields, above. <br>  <br>  FSThe input field separator, a space by default.See Fields, <br>  above. <br>  <br>  FUNCTAB An array whose indices andcorrespondingvaluesarethe <br>  names of all the user-defined or extension functions in the <br>  program.NOTE: You may not use the deletestatementwith <br>  the FUNCTAB array. <br>  <br>  IGNORECASEControls the case-sensitivity of all regular expression and <br>  string operations.If IGNORECASEhasanon-zerovalue, <br>  thenstringcomparisonsandpatternmatching in rules, <br>  field splitting with FS and FPAT,recordseparatingwith <br>  RS, regular expression matching with ~ and !~, and the gen‐ <br>  sub(), gsub(), index(), match(), patsplit(),split(),and <br>  sub() built-in functions all ignore case when doing regular <br>  expression operations.NOTE:Arraysubscriptingisnot <br>  affected. However, the asort() and asorti() functions are <br>  affected. <br>  Thus, if IGNORECASE is not equal to zero, /aB/ matchesall <br>  of the strings "ab", "aB", "Ab", and "AB".As with all AWK <br>  variables, the initial value of IGNORECASE is zero, soall <br>  regular expression and string operations are normally case- <br>  sensitive. <br>  <br>  LINTProvides dynamic control of the --lint optionfromwithin <br>  an AWK program.When true, gawk prints lint warnings. When <br>  false,itdoesnot. Whenassignedthestringvalue <br>  "fatal",lintwarningsbecome fatal errors, exactly like <br>  --lint=fatal.Any other true value just prints warnings. <br>  <br>  NFThe number of fields in the current input record. <br>  <br>  NRThe total number of input records seen so far. <br>  <br>  OFMTThe output format for numbers, "%.6g", by default. <br>  <br>  OFS The output field separator, a space by default. <br>  <br>  ORS The output record separator, by default a newline. <br>  <br>  PRECThe working precision of arbitrary precision floating-point <br>  numbers, 53 by default. <br>  <br>  PROCINFOTheelementsofthis array provide access to information <br>  about the running AWK program.On some systems, theremay <br>  beelementsinthearray, "group1" through "groupn" for <br>  some n, which is the number ofsupplementarygroupsthat <br>  theprocesshas. Usethe in operator to test for these <br>  elements.The followingelementsareguaranteedtobe <br>  available: <br>  <br>  PROCINFO["egid"]Thevalueofthegetegid(2)system <br>  call. <br>  <br>  PROCINFO["strftime"] <br>  Thedefaulttimeformatstringfor <br>  strftime(). <br>  <br>  PROCINFO["euid"]Thevalueofthegeteuid(2)system <br>  call. <br>  <br>  PROCINFO["FS"]"FS" if field splitting with FSisin <br>  effect,"FPAT" if field splitting with <br>  FPAT is in effect, or "FIELDWIDTHS"if <br>  fieldsplitting with FIELDWIDTHS is in <br>  effect. <br>  <br>  PROCINFO["identifiers"] <br>  A subarray, indexed by the names of all <br>  identifiers used in the text of the AWK <br>  program.The values indicate what gawk <br>  knowsabouttheidentifiers after it <br>  has finished parsing the program;they <br>  are not updated while the program runs. <br>  For each identifier, the valueofthe <br>  element is one of the following: <br>  <br>  "array" <br> The identifier is an array. <br>  <br>  "extension" <br> Theidentifieris an extension <br> function loaded via @load. <br>  <br>  "scalar" <br> The identifier is a scalar. <br>  <br>  "untyped" <br> The identifier is untyped (could <br> beusedasa scalar or array, <br> gawk doesn't know yet). <br>  <br>  "user" The identifier is a user-defined <br> function. <br>  <br>  PROCINFO["gid"] The value of the getgid(2) system call. <br>  <br>  PROCINFO["pgrpid"]TheprocessgroupIDof the current <br>  process. <br>  <br>  PROCINFO["pid"] The process ID of the current process. <br>  <br>  PROCINFO["ppid"]The parent process IDofthecurrent <br>  process. <br>  <br>  PROCINFO["uid"] The value of the getuid(2) system call. <br>  <br>  PROCINFO["sorted_in"] <br>  Ifthiselementexistsin PROCINFO, <br>  then its value controlstheorderin <br>  whicharrayelements are traversed in <br>  forloops.Supported values are <br>  "@ind_str_asc", "@ind_num_asc", <br>  "@val_type_asc","@val_str_asc", <br>  "@val_num_asc","@ind_str_desc", <br>  "@ind_num_desc","@val_type_desc", <br>  "@val_str_desc","@val_num_desc",and <br>  "@unsorted".The value can also be the <br>  name of any comparison function defined <br>  as follows: <br>  <br> function cmp_func(i1, v1, i2, v2) <br>  <br>  where i1 and i2 are the indices, and v1 <br>  andv2 are the corresponding values of <br>  the two elementsbeingcompared. It <br>  should return a number less than, equal <br>  to, or greater than 0, depending on how <br>  theelementsofthearray are to be <br>  ordered. <br>  <br>  PROCINFO["input", "READ_TIMEOUT"] <br>  The timeout in milliseconds for reading <br>  data from input, where input is a redi‐ <br>  rection string or a filename.Avalue <br>  ofzeroorlessthanzero means no <br>  timeout. <br>  <br>  PROCINFO["mpfr_version"] <br>  The version oftheGNUMPFRlibrary <br>  usedforarbitraryprecisionnumber <br>  support in gawk. Thisentryisnot <br>  present if MPFR support is not compiled <br>  into gawk. <br>  <br>  PROCINFO["gmp_version"] <br>  The version of the GNU MP libraryused <br>  forarbitrary precision number support <br>  in gawk.This entry is not presentif <br>  MPFR support is not compiled into gawk. <br>  <br>  PROCINFO["prec_max"] <br>  Themaximum precision supported by the <br>  GNU MPFR library forarbitrarypreci‐ <br>  sion floating-point numbers. This <br>  entry is not present if MPFR support is <br>  not compiled into gawk. <br>  <br>  PROCINFO["prec_min"] <br>  Theminimumprecisionallowed by the <br>  GNU MPFR library forarbitrarypreci‐ <br>  sion floating-point numbers. This <br>  entry is not present if MPFR support is <br>  not compiled into gawk. <br>  <br>  PROCINFO["api_major"] <br>  The major version of the extension API. <br>  This entry is notpresentifloading <br>  dynamic extensions is not available. <br>  <br>  PROCINFO["api_minor"] <br>  The minor version of the extension API. <br>  This entry is notpresentifloading <br>  dynamic extensions is not available. <br>  <br>  PROCINFO["version"] the version of gawk. <br>  <br>  ROUNDMODE The rounding mode to use for arbitrary precision arithmetic <br>  on numbers, by default "N" (IEEE-754 roundTiesToEven mode). <br>  The accepted values are "N" or "n" for roundTiesToEven, "U" <br>  or "u" for roundTowardPositive, "D" or "d" for roundToward‐ <br>  Negative,"Z" or "z" for roundTowardZero, and if your ver‐ <br>  sion of GNU MPFRlibrarysupportsit,"A"or"a"for <br>  roundTiesToAway. <br>  <br>  RSThe input record separator, by default a newline. <br>  <br>  RTThe record terminator.Gawk sets RT to the input text that <br>  matched the character or regularexpressionspecifiedby <br>  RS. <br>  <br>  RSTARTTheindexof the first character matched by match(); 0 if <br>  no match.(This implies that characterindicesstartat <br>  one.) <br>  <br>  RLENGTH Thelengthofthestringmatchedby match(); -1 if no <br>  match. <br>  <br>  SUBSEPThe character used to separate multiple subscripts in array <br>  elements, by default "_034". <br>  <br>  SYMTABAnarraywhoseindicesarethenames of all currently <br>  defined global variables and arrays intheprogram. The <br>  arraymay be used for indirect access to read or write the <br>  value of a variable: <br>  <br> foo = 5 <br> SYMTAB["foo"] = 4 <br> print foo- prints 4 <br>  <br>  The isarray() function may be used to test if an element in <br>  SYMTABisan array.You may not use the delete statement <br>  with the SYMTAB array. <br>  <br>  TEXTDOMAINThe text domain of the AWK program; used to find the local‐ <br>  ized translations for the program's strings. <br>  <br>  Arrays <br>  Arraysaresubscriptedwith an expression between square brackets ([ <br>  and ]).If the expression is an expression list (expr, expr ...)then <br>  thearray subscript is a string consisting of the concatenation of the <br>  (string) value of each expression, separated by the value of the SUBSEP <br>  variable. Thisfacilityisusedtosimulate multiply dimensioned <br>  arrays.For example: <br>  <br> i = "A"; j = "B"; k = "C" <br> x[i, j, k] = "hello, world_n" <br>  <br>  assigns the string "hello, world_n" to the element of the array x which <br>  is indexed by the string "A_034B_034C".All arrays in AWK are associa‐ <br>  tive, i.e., indexed by string values. <br>  <br>  The special operator in may be used to test if an arrayhasanindex <br>  consisting of a particular value: <br>  <br> if (val in array) <br>  print array[val] <br>  <br>  If the array has multiple subscripts, use (i, j) in array. <br>  <br>  The in construct may also be used in a for loop to iterate over all the <br>  elements of an array.However, the (i,j)inarrayconstructonly <br>  works in tests, not in for loops. <br>  <br>  Anelementmaybedeleted from an array using the delete statement. <br>  The delete statement may also be used to delete the entire contentsof <br>  an array, just by specifying the array name without a subscript. <br>  <br>  gawksupportstruemultidimensional arrays. It does not require that <br>  such arrays be ``rectangular'' as in C or C++.For example: <br>  <br> a[1] = 5 <br> a[2][1] = 6 <br> a[2][2] = 7 <br>  <br>  NOTE: You may need to tell gawk that an array element is really asub‐ <br>  arrayinorderto use it where gawk expects an array (such as in the <br>  second argument to split()).You can do this by creating an element in <br>  the subarray and then deleting it with the delete statement. <br>  <br>  Variable Typing And Conversion <br>  Variablesandfieldsmay be (floating point) numbers, or strings, or <br>  both.How the value of a variable is interpreted depends upon its con‐ <br>  text.If used in a numeric expression, it will be treated as a number; <br>  if used as a string it will be treated as a string. <br>  <br>  To force a variable to be treated as a number, add 0 to it; to force it <br>  to be treated as a string, concatenate it with the null string. <br>  <br>  Uninitializedvariableshave the numeric value 0 and the string value <br>  "" (the null, or empty, string). <br>  <br>  When a string must be converted to a number, the conversionisaccom‐ <br>  plishedusingstrtod(3). A number is converted to a string by using <br>  the value of CONVFMT asaformatstringforsprintf(3),withthe <br>  numericvalueofthe variable as the argument.However, even though <br>  all numbers in AWK are floating-point, integral values are alwayscon‐ <br>  verted as integers.Thus, given <br>  <br> CONVFMT = "%2.2f" <br> a = 12 <br> b = a "" <br>  <br>  the variable b has a string value of "12" and not "12.00". <br>  <br>  NOTE:Whenoperating in POSIX mode (such as with the --posix option), <br>  beware that locale settings may interfere with the way decimalnumbers <br>  aretreated:thedecimal separator of the numbers you are feeding to <br>  gawk must conform to what your locale would expect, be it acomma(,) <br>  or a period (.). <br>  <br>  Gawkperformscomparisonsasfollows: If two variables are numeric, <br>  they are compared numerically.If one value is numeric andtheother <br>  hasastringvaluethat is a “numeric string,” then comparisons are <br>  also done numerically.Otherwise, the numeric value is converted toa <br>  string and a string comparison is performed.Two strings are compared, <br>  of course, as strings. <br>  <br>  Note that string constants, such as "57", are not numeric strings, they <br>  arestringconstants. Theidea of “numeric string” only applies to <br>  fields, getline input, FILENAME, ARGV elements,ENVIRONelementsand <br>  theelementsofanarraycreated by split() or patsplit() that are <br>  numeric strings.The basic idea is thatuserinput,andonlyuser <br>  input, that looks numeric, should be treated that way. <br>  <br>  Octal and Hexadecimal Constants <br>  You may use C-style octal and hexadecimal constants in your AWK program <br>  source code.For example, the octal value 011 is equal todecimal9, <br>  and the hexadecimal value 0x11 is equal to decimal 17. <br>  <br>  String Constants <br>  StringconstantsinAWK are sequences of characters enclosed between <br>  double quotes (like "value").Within strings, certain escape sequences <br>  are recognized, as in C.These are: <br>  <br>  __ A literal backslash. <br>  <br>  _a The “alert” character; usually the ASCII BEL character. <br>  <br>  _b Backspace. <br>  <br>  _f Form-feed. <br>  <br>  _n Newline. <br>  <br>  _r Carriage return. <br>  <br>  _t Horizontal tab. <br>  <br>  _v Vertical tab. <br>  <br>  _xhex digits <br> The character represented by the string of hexadecimal digits fol‐ <br> lowing the _x.As in ISO C, all following hexadecimal digitsare <br> considered part of the escape sequence.(This feature should tell <br> us something about language design by committee.)E.g., "_x1B" is <br> the ASCII ESC (escape) character. <br>  <br>  _ddd Thecharacterrepresentedby the 1-, 2-, or 3-digit sequence of <br> octal digits.E.g., "_033" is the ASCII ESC (escape) character. <br>  <br>  _c The literal character c. <br>  <br>  The escape sequences may also be used inside constantregularexpres‐ <br>  sions (e.g., /[ _t_f_n_r_v]/ matches whitespace characters). <br>  <br>  In compatibility mode, the characters represented by octal and hexadec‐ <br>  imal escape sequencesaretreatedliterallywhenusedinregular <br>  expression constants.Thus, /a_52b/ is equivalent to /a_*b/. <br>  <br> PATTERNS AND ACTIONS <br>  AWK is a line-oriented language.The pattern comes first, and then the <br>  action.Action statements are enclosed in { and }.Either the pattern <br>  may be missing, or the action may be missing, but, of course, not both. <br>  If the pattern is missing, the actionisexecutedforeverysingle <br>  record of input.A missing action is equivalent to <br>  <br> { print } <br>  <br>  which prints the entire record. <br>  <br>  Commentsbegin with the - character, and continue until the end of the <br>  line.Blank lines may be used toseparatestatements. Normally,a <br>  statementends with a newline, however, this is not the case for lines <br>  ending in a comma, {, ?, :, --, or ||.Lines ending in do or else also <br>  havetheirstatementsautomatically continued on the following line. <br>  In other cases, a line can be continued by ending itwitha“_”,in <br>  which case the newline is ignored. <br>  <br>  Multiplestatementsmaybe put on one line by separating them with a <br>  “;”.This applies to both the statements within the action partofa <br>  pattern-actionpair (the usual case), and to the pattern-action state‐ <br>  ments themselves. <br>  <br>  Patterns <br>  AWK patterns may be one of the following: <br>  <br> BEGIN <br> END <br> BEGINFILE <br> ENDFILE <br> /regular expression/ <br> relational expression <br> pattern -- pattern <br> pattern || pattern <br> pattern ? pattern : pattern <br> (pattern) <br> ! pattern <br> pattern1, pattern2 <br>  <br>  BEGIN and END are two special kinds of patterns whicharenottested <br>  againsttheinput.The action parts of all BEGIN patterns are merged <br>  as if all the statements had been written in a single BEGIN rule.They <br>  areexecutedbefore any of the input is read.Similarly, all the END <br>  rules are merged, and executed when all the input is exhausted (or when <br>  anexit statement is executed).BEGIN and END patterns cannot be com‐ <br>  bined with other patterns in pattern expressions.BEGIN andENDpat‐ <br>  terns cannot have missing action parts. <br>  <br>  BEGINFILEand ENDFILE are additional special patterns whose bodies are <br>  executed before reading the first record ofeachcommandlineinput <br>  file and after reading the last record of each file.Inside the BEGIN‐ <br>  FILE rule, the value of ERRNO will be the empty string if the filewas <br>  openedsuccessfully. Otherwise,there is some problem with the file <br>  and the code should use nextfile to skip it. If that is not done,gawk <br>  produces its usual fatal error for files that cannot be opened. <br>  <br>  For /regular expression/ patterns, the associated statement is executed <br>  for each input record that matchestheregularexpression. Regular <br>  expressionsarethesameasthosein egrep(1), and are summarized <br>  below. <br>  <br>  A relational expression may use any of the operators definedbelowin <br>  thesectiononactions.These generally test whether certain fields <br>  match certain regular expressions. <br>  <br>  The --, ||, and !operators are logical AND, logical OR,andlogical <br>  NOT,respectively, as in C.They do short-circuit evaluation, also as <br>  in C, and are used for combining moreprimitivepatternexpressions. <br>  Asinmostlanguages, parentheses may be used to change the order of <br>  evaluation. <br>  <br>  The ?: operator is like the same operator in C.If thefirstpattern <br>  is true then the pattern used for testing is the second pattern, other‐ <br>  wise it is the third.Only one of the secondandthirdpatternsis <br>  evaluated. <br>  <br>  The pattern1, pattern2 form of an expression is called a range pattern. <br>  It matches all input records starting with a record thatmatchespat‐ <br>  tern1,and continuing until a record that matches pattern2, inclusive. <br>  It does not combine with any other sort of pattern expression. <br>  <br>  Regular Expressions <br>  Regular expressions are the extended kind foundinegrep. Theyare <br>  composed of characters as follows: <br>  <br>  cMatches the non-metacharacter c. <br>  <br>  _c Matches the literal character c. <br>  <br>  .Matches any character including newline. <br>  <br>  ^Matches the beginning of a string. <br>  <br>  $Matches the end of a string. <br>  <br>  [abc...] A character list: matches any of the characters abc....You <br> may include a range of characters by separating them witha <br> dash. <br>  <br>  [^abc...]Anegatedcharacterlist:matchesanycharacter except <br> abc.... <br>  <br>  r1|r2Alternation: matches either r1 or r2. <br>  <br>  r1r2 Concatenation: matches r1, and then r2. <br>  <br>  r+ Matches one or more r's. <br>  <br>  r* Matches zero or more r's. <br>  <br>  r? Matches zero or one r's. <br>  <br>  (r)Grouping: matches r. <br>  <br>  r{n} <br>  r{n,} <br>  r{n,m} One or two numbers inside braces denote an intervalexpres‐ <br> sion. Ifthere is one number in the braces, the preceding <br> regular expression r is repeated n times.If there aretwo <br> numbersseparatedbya comma, r is repeated n to m times. <br> If there is one numberfollowedbyacomma,thenris <br> repeated at least n times. <br>  <br>  _y Matchesthe empty string at either the beginning or the end <br> of a word. <br>  <br>  _B Matches the empty string within a word. <br>  <br>  _[ Matches the empty string at the beginning of a word. <br>  <br>  _] Matches the empty string at the end of a word. <br>  <br>  _s Matches any whitespace character. <br>  <br>  _S Matches any nonwhitespace character. <br>  <br>  _w Matches any word-constituent character(letter,digit,or <br> underscore). <br>  <br>  _W Matches any character that is not word-constituent. <br>  <br>  _` Matchestheemptystringatthebeginningof a buffer <br> (string). <br>  <br>  _' Matches the empty string at the end of a buffer. <br>  <br>  The escape sequences that are valid instringconstants(seeString <br>  Constants) are also valid in regular expressions. <br>  <br>  Characterclassesarea feature introduced in the POSIX standard.A <br>  character class is a special notation for describing listsofcharac‐ <br>  tersthathavea specific attribute, but where the actual characters <br>  themselves can vary from country to country and/or fromcharacterset <br>  tocharacterset. Forexample, the notion of what is an alphabetic <br>  character differs in the USA and in France. <br>  <br>  A character class is only valid inaregularexpressioninsidethe <br>  bracketsof a character list.Character classes consist of [:, a key‐ <br>  word denoting the class, and :].The character classes defined bythe <br>  POSIX standard are: <br>  <br>  [:alnum:]Alphanumeric characters. <br>  <br>  [:alpha:]Alphabetic characters. <br>  <br>  [:blank:]Space or tab characters. <br>  <br>  [:cntrl:]Control characters. <br>  <br>  [:digit:]Numeric characters. <br>  <br>  [:graph:]Characters that are both printable and visible.(A space is <br> printable, but not visible, while an a is both.) <br>  <br>  [:lower:]Lowercase alphabetic characters. <br>  <br>  [:print:]Printable characters (characters that are not controlchar‐ <br> acters.) <br>  <br>  [:punct:]Punctuation characters (characters that are not letter, dig‐ <br> its, control characters, or space characters). <br>  <br>  [:space:]Space characters (such as space, tab, and formfeed, toname <br> a few). <br>  <br>  [:upper:]Uppercase alphabetic characters. <br>  <br>  [:xdigit:] Characters that are hexadecimal digits. <br>  <br>  Forexample,before the POSIX standard, to match alphanumeric charac‐ <br>  ters, you would have had to write /[A-Za-z0-9]/.If your character set <br>  hadotheralphabetic characters in it, this would not match them, and <br>  if your character set collated differently from ASCII, thismightnot <br>  even match the ASCII alphanumeric characters.With the POSIX character <br>  classes, you can write /[[:alnum:]]/, and this matchesthealphabetic <br>  and numeric characters in your character set, no matter what it is. <br>  <br>  Twoadditional special sequences can appear in character lists.These <br>  apply to non-ASCIIcharactersets,whichcanhavesinglesymbols <br>  (calledcollatingelements)thatare represented with more than one <br>  character, as well as several characters that are equivalentforcol‐ <br>  lating,orsorting,purposes. (E.g.,in French, a plain “e” and a <br>  grave-accented “`” are equivalent.) <br>  <br>  Collating Symbols <br> Acollatingsymbolisamulti-charactercollatingelement <br> enclosedin [.and .].For example, if ch is a collating ele‐ <br> ment, then [[.ch.]]is a regular expression thatmatchesthis <br> collatingelement,while[ch]isaregular expression that <br> matches either c or h. <br>  <br>  Equivalence Classes <br> An equivalence class is a locale-specific nameforalistof <br> charactersthat are equivalent.The name is enclosed in [= and <br> =].For example, the name e might be used to representallof <br> “e,”“´,”and “`.”In this case, [[=e=]] is a regular expres‐ <br> sion that matches any of e, ´, or `. <br>  <br>  These features are very valuable in non-English speaking locales. The <br>  libraryfunctionsthat gawk uses for regular expression matching cur‐ <br>  rently only recognize POSIX character classes; theydonotrecognize <br>  collating symbols or equivalence classes. <br>  <br>  The_y,_B, _[, _], _s, _S, _w, _W, _`, and _' operators are specific <br>  to gawk; they are extensions based on facilitiesintheGNUregular <br>  expression libraries. <br>  <br>  The various command line options control how gawk interprets characters <br>  in regular expressions. <br>  <br>  No options <br> In the default case, gawk provides all the facilitiesofPOSIX <br> regularexpressionsandtheGNU regular expression operators <br> described above. <br>  <br>  --posix <br> Only POSIX regular expressions are supported, the GNUoperators <br> are not special.(E.g., _w matches a literal w). <br>  <br>  --traditional <br> TraditionalUNIXawk regular expressions are matched.The GNU <br> operators are not special,andintervalexpressionsarenot <br> available.Characters described by octal and hexadecimal escape <br> sequences are treated literally, even if they representregular <br> expression metacharacters. <br>  <br>  --re-interval <br> Allowintervalexpressionsinregularexpressions,even if <br> --traditional has been provided. <br>  <br>  Actions <br>  Action statements are enclosed in braces, { and }. Actionstatements <br>  consistoftheusual assignment, conditional, and looping statements <br>  found inmostlanguages. Theoperators,controlstatements,and <br>  input/output statements available are patterned after those in C. <br>  <br>  Operators <br>  The operators in AWK, in order of decreasing precedence, are: <br>  <br>  (...) Grouping <br>  <br>  $ Field reference. <br>  <br>  ++ -- Increment and decrement, both prefix and postfix. <br>  <br>  ^ Exponentiation(**mayalsobeused,and**= for the <br>  assignment operator). <br>  <br>  + - ! Unary plus, unary minus, and logical negation. <br>  <br>  * / % Multiplication, division, and modulus. <br>  <br>  + - Addition and subtraction. <br>  <br>  space String concatenation. <br>  <br>  | |-Piped I/O for getline, print, and printf. <br>  <br>  [ ] [= ]= != == <br>  The regular relational operators. <br>  <br>  ~ !~Regular expression match, negated match.NOTE: Do notuse <br>  a constant regular expression (/foo/) on the left-hand side <br>  of a ~ or !~.Only use one on theright-handside. The <br>  expression/foo/~exphasthesame meaning as (($0 ~ <br>  /foo/) ~ exp).This is usually not what you want. <br>  <br>  inArray membership. <br>  <br>  --Logical AND. <br>  <br>  ||Logical OR. <br>  <br>  ?:The C conditional expression.This has theformexpr1? <br>  expr2: expr3.If expr1 is true, the value of the expres‐ <br>  sion is expr2, otherwise it is expr3.Onlyoneofexpr2 <br>  and expr3 is evaluated. <br>  <br>  = += -= *= /= %= ^= <br>  Assignment. Bothabsoluteassignment(var = value) and <br>  operator-assignment (the other forms) are supported. <br>  <br>  Control Statements <br>  The control statements are as follows: <br>  <br> if (condition) statement [ else statement ] <br> while (condition) statement <br> do statement while (condition) <br> for (expr1; expr2; expr3) statement <br> for (var in array) statement <br> break <br> continue <br> delete array[index] <br> delete array <br> exit [ expression ] <br> { statements } <br> switch (expression) { <br> case value|regex : statement <br> ... <br> [ default: statement ] <br> } <br>  <br>  I/O Statements <br>  The input/output statements are as follows: <br>  <br>  close(file [, how]) Close file, pipe or co-process.The optional how <br>  shouldonlybeusedwhen closing one end of a <br>  two-way pipe toaco-process. Itmustbea <br>  string value, either "to" or "from". <br>  <br>  getline Set$0from next input record; set NF, NR, FNR, <br>  RT. <br>  <br>  getline [file Set $0 from next record of file; set NF, RT. <br>  <br>  getline var Set var from next input record; set NR, FNR, RT. <br>  <br>  getline var [file Set var from next record of file, RT. <br>  <br>  command | getline [var] <br>  Run command piping the output either into$0or <br>  var, as above, and RT. <br>  <br>  command |- getline [var] <br>  Runcommandasaco-process piping the output <br>  either into $0 or var, as above, and RT.Co-pro‐ <br>  cessesarea gawk extension.(command can also <br>  be a socket.SeethesubsectionSpecialFile <br>  Names, below.) <br>  <br>  nextStopprocessingthecurrent input record.The <br>  next input record is read andprocessingstarts <br>  overwiththe first pattern in the AWK program. <br>  Upon reaching the end oftheinputdata,gawk <br>  executes any END rule(s). <br>  <br>  nextfileStop processing the current input file.The next <br>  input record read comes from the next input file. <br>  FILENAMEand ARGIND are updated, FNR is reset to <br>  1, and processing starts over with the first pat‐ <br>  terninthe AWK program.Upon reaching the end <br>  of the input data, gawk executes any END rule(s). <br>  <br>  print Print the current record.The outputrecordis <br>  terminated with the value of ORS. <br>  <br>  print expr-list Printexpressions.Each expression is separated <br>  by the value of OFS.The output record is termi‐ <br>  nated with the value of ORS. <br>  <br>  print expr-list ]file Printexpressionsonfile.Each expression is <br>  separated by the value of OFS.The output record <br>  is terminated with the value of ORS. <br>  <br>  printf fmt, expr-list Formatandprint. SeeTheprintf Statement, <br>  below. <br>  <br>  printf fmt, expr-list ]file <br>  Format and print on file. <br>  <br>  system(cmd-line)Execute the command cmd-line, and return the exit <br>  status. (This may not be available on non-POSIX <br>  systems.) <br>  <br>  fflush([file])Flush any buffers associated with the open output <br>  fileorpipe file.If file is missing or if it <br>  is the null string, then flushallopenoutput <br>  files and pipes. <br>  <br>  Additional output redirections are allowed for print and printf. <br>  <br>  print ... ]] file <br> Appends output to the file. <br>  <br>  print ... | command <br> Writes on a pipe. <br>  <br>  print ... |- command <br> Sendsdata to a co-process or socket.(See also the subsection <br> Special File Names, below.) <br>  <br>  The getline command returns 1 on success, 0 on end of file, and-1on <br>  an error.Upon an error, ERRNO is set to a string describing the prob‐ <br>  lem. <br>  <br>  NOTE: Failure in opening a two-way socket results in a non-fatalerror <br>  being returned to the calling function. If using a pipe, co-process, or <br>  socket to getline, or from print or printf within a loop, you mustuse <br>  close() to create new instances of the command or socket.AWK does not <br>  automatically close pipes, sockets, or co-processeswhentheyreturn <br>  EOF. <br>  <br>  The printf Statement <br>  TheAWKversionsof the printf statement and sprintf() function (see <br>  below) accept the following conversion specification formats: <br>  <br>  %cA single character.If the argument used for %c is numeric, it <br>  is treated as a character and printed.Otherwise, the argument <br>  is assumed to be a string, and the only first character of that <br>  string is printed. <br>  <br>  %d, %iA decimal number (the integer part). <br>  <br>  %e, %EA floating point number of the form [-]d.dddddde[+-]dd.The %E <br>  format uses E instead of e. <br>  <br>  %f, %FA floating point number of the form [-]ddd.dddddd.If the sys‐ <br>  temlibrary supports it, %F is available as well. This is like <br>  %f, but uses capital letters for special“notanumber”and <br>  “infinity” values. If %F is not available, gawk uses %f. <br>  <br>  %g, %GUse %e or %f conversion, whichever is shorter, with nonsignifi‐ <br>  cant zeros suppressed.The %G format uses %E instead of %e. <br>  <br>  %oAn unsigned octal number (also an integer). <br>  <br>  %uAn unsigned decimal number (again, an integer). <br>  <br>  %sA character string. <br>  <br>  %x, %XAn unsigned hexadecimal number (aninteger). The%Xformat <br>  uses ABCDEF instead of abcdef. <br>  <br>  %%A single % character; no argument is converted. <br>  <br>  Optional,additionalparameters may lie between the % and the control <br>  letter: <br>  <br>  count$ Use the count'th argument at this point in the formatting.This <br> iscalleda positional specifier and is intended primarily for <br> use in translated versions of format strings, not in theorigi‐ <br> nal text of an AWK program.It is a gawk extension. <br>  <br>  -The expression should be left-justified within its field. <br>  <br>  spaceFornumericconversions,prefix positive values with a space, <br> and negative values with a minus sign. <br>  <br>  +The plus sign, used before the width modifier (see below),says <br> toalwayssupplyasign for numeric conversions, even if the <br> data to be formatted is positive.The+overridesthespace <br> modifier. <br>  <br>  -Usean“alternateform” for certain control letters.For %o, <br> supply a leading zero.For %x, and %X, supply a leading0xor <br> 0Xforanonzeroresult. For %e, %E, %f and %F, the result <br> always contains a decimal point.For %g, and %G, trailing zeros <br> are not removed from the result. <br>  <br>  0Aleading 0 (zero) acts as a flag, that indicates output should <br> be padded with zeroes instead of spaces.This appliesonlyto <br> thenumericoutput formats.This flag only has an effect when <br> the field width is wider than the value to be printed. <br>  <br>  'A single quote character instructs gawk to insertthelocale's <br> thousands-separatorcharacter into decimal numbers, and to also <br> use the locale's decimal pointcharacterwithfloatingpoint <br> formats. This requires correct locale support in the C library <br> and in the definition of the current locale. <br>  <br>  widthThe field should be padded to this width.The field is normally <br> padded with spaces.With the 0 flag, it is padded with zeroes. <br>  <br>  .precA number that specifies the precision to use when printing.For <br> the %e, %E, %f and %F, formats, thisspecifiesthenumberof <br> digitsyou want printed to the right of the decimal point.For <br> the %g, and %G formats, it specifies the maximum number ofsig‐ <br> nificant digits.For the %d, %i, %o, %u, %x, and %X formats, it <br> specifies the minimum number of digits toprint. For%s,it <br> specifiesthe maximum number of characters from the string that <br> should be printed. <br>  <br>  The dynamic width and prec capabilities of the ISO C printf()routines <br>  are supported.A * in place of either the width or prec specifications <br>  causes their values to be taken from the argumentlisttoprintfor <br>  sprintf(). To use a positional specifier with a dynamic width or pre‐ <br>  cision, supply the count$ after the * in the format string.Forexam‐ <br>  ple, "%3$*2$.*1$s". <br>  <br>  Special File Names <br>  Whendoing I/O redirection from either print or printf into a file, or <br>  via getline from a file,gawkrecognizescertainspecialfilenames <br>  internally. Thesefilenamesallowaccessto open file descriptors <br>  inherited from gawk's parent process (usually the shell). Thesefile <br>  namesmayalsobeused on the command line to name data files.The <br>  filenames are: <br>  <br>  - The standard input. <br>  <br>  /dev/stdinThe standard input. <br>  <br>  /dev/stdout The standard output. <br>  <br>  /dev/stderr The standard error output. <br>  <br>  /dev/fd/n The file associated with the open file descriptor n. <br>  <br>  These are particularly useful for error messages.For example: <br>  <br> print "You blew it!" ] "/dev/stderr" <br>  <br>  whereas you would otherwise have to use <br>  <br> print "You blew it!" | "cat 1]-2" <br>  <br>  The following special filenames may beusedwiththe|-co-process <br>  operator for creating TCP/IP network connections: <br>  <br>  /inet/tcp/lport/rhost/rport <br>  /inet4/tcp/lport/rhost/rport <br>  /inet6/tcp/lport/rhost/rport <br> Files for a TCP/IP connection on local port lport to remote host <br> rhost on remote port rport.Use a port of 0 to have thesystem <br> pick a port.Use /inet4 to force an IPv4 connection, and /inet6 <br> to force anIPv6connection. Plain/inetusesthesystem <br> default (most likely IPv4). <br>  <br>  /inet/udp/lport/rhost/rport <br>  /inet4/udp/lport/rhost/rport <br>  /inet6/udp/lport/rhost/rport <br> Similar, but use UDP/IP instead of TCP/IP. <br>  <br>  Numeric Functions <br>  AWK has the following built-in arithmetic functions: <br>  <br>  atan2(y, x) Return the arctangent of y/x in radians. <br>  <br>  cos(expr) Return the cosine of expr, which is in radians. <br>  <br>  exp(expr) The exponential function. <br>  <br>  int(expr) Truncate to integer. <br>  <br>  log(expr) The natural logarithm function. <br>  <br>  rand()Returna random number N, between 0 and 1, such that 0 ≤ <br>  N [ 1. <br>  <br>  sin(expr) Return the sine of expr, which is in radians. <br>  <br>  sqrt(expr)Return the square root of expr. <br>  <br>  srand([expr]) Use expr as the new seed for the random number generator. <br>  Ifno expr is provided, use the time of day.Return the <br>  previous seed for the random number generator. <br>  <br>  String Functions <br>  Gawk has the following built-in string functions: <br>  <br>  asort(s [, d [, how] ]) Return the number ofelementsinthesource <br>  arrays. Sort the contents of s using gawk's <br>  normal rules for comparing values, andreplace <br>  the indices of the sorted values s with sequen‐ <br>  tial integers starting with 1. If theoptional <br>  destinationarray d is specified, first dupli‐ <br>  cate s into d, and thensortd,leavingthe <br>  indicesofthesource array s unchanged. The <br>  optional string how controls the directionand <br>  thecomparison mode.Valid values for how are <br>  anyof the strings valid for <br>  PROCINFO["sorted_in"].It can also be the name <br>  ofauser-definedcomparison function as <br>  described in PROCINFO["sorted_in"]. <br>  <br>  asorti(s [, d [, how] ]) <br>  Returnthenumberofelements in the source <br>  array s.The behavior is the same asthatof <br>  asort(), except that the array indices are used <br>  for sorting, not the array values.Whendone, <br>  thearray is indexed numerically, and the val‐ <br>  ues are those oftheoriginalindices. The <br>  original values are lost; thus provide a second <br>  array if you wishtopreservetheoriginal. <br>  Thepurposeof the optional string how is the <br>  same as described in asort() above. <br>  <br>  gensub(r, s, h [, t]) Search the target string t for matchesofthe <br>  regularexpression r.If h is a string begin‐ <br>  ning with g or G, then replace all matches of r <br>  withs. Otherwise,h is a number indicating <br>  which match of r to replace.If t is notsup‐ <br>  plied,use $0 instead.Within the replacement <br>  text s, the sequence _n, wherenisadigit <br>  from1to 9, may be used to indicate just the <br>  text that matched the n'th parenthesized subex‐ <br>  pression.Thesequence_0representsthe <br>  entire matched text, as does thecharacter-. <br>  Unlike sub() and gsub(), the modified string is <br>  returned as the result of the function, and the <br>  original target string is not changed. <br>  <br>  gsub(r, s [, t])For each substring matching the regular expres‐ <br>  sion r in the string t, substitutethestring <br>  s,and return the number of substitutions.If <br>  t isnotsupplied,use$0. An-inthe <br>  replacement text is replaced with the text that <br>  was actually matched.Use _- to get aliteral <br>  -. (Thismustbetyped as "__-"; see GAWK: <br>  Effective AWK Programming for a fullerdiscus‐ <br>  sionoftherules for -'s and backslashes in <br>  the replacement text of sub(), gsub(), and gen‐ <br>  sub().) <br>  <br>  index(s, t) Returnthe index of the string t in the string <br>  s, or 0 if t isnotpresent. (Thisimplies <br>  thatcharacter indices start at one.)It is a <br>  fatal error to use a regexp constant for t. <br>  <br>  length([s]) Return the lengthofthestrings,orthe <br>  lengthof$0 if s is not supplied.As a non- <br>  standard extension,withanarrayargument, <br>  length()returns the number of elements in the <br>  array. <br>  <br>  match(s, r [, a]) Return the positioninswheretheregular <br>  expressionr occurs, or 0 if r is not present, <br>  and set the values of RSTART and RLENGTH.Note <br>  thatthe argument order is the same as for the <br>  ~ operator: str ~ re.If array a isprovided, <br>  ais cleared and then elements 1 through n are <br>  filled with the portions of sthatmatchthe <br>  corresponding parenthesized subexpression in r. <br>  The 0'th element of a contains the portion of s <br>  matchedbytheentireregular expression r. <br>  Subscripts a[n, "start"],anda[n,"length"] <br>  providethestartingindex in the string and <br>  lengthrespectively,ofeachmatchingsub‐ <br>  string. <br>  <br>  patsplit(s, a [, r [, seps] ]) <br>  Splitthestringsinto the array a and the <br>  separators array seps on the regular expression <br>  r,andreturnthe number of fields.Element <br>  values are the portions of sthatmatchedr. <br>  Thevalueofseps[i]isthe separator that <br>  appeared in front of a[i+1].If r isomitted, <br>  FPATisusedinstead.The arrays a and seps <br>  are cleared first.Splittingbehavesidenti‐ <br>  callytofield splitting with FPAT, described <br>  above. <br>  <br>  split(s, a [, r [, seps] ]) <br>  Split the string s into thearrayaandthe <br>  separators array seps on the regular expression <br>  r, and return the number of fields. Ifris <br>  omitted,FS is used instead.The arrays a and <br>  seps are cleared first.seps[i] isthefield <br>  separator matched by r between a[i] and a[i+1]. <br>  If r is a single space, then leading whitespace <br>  ins goes into the extra array element seps[0] <br>  and trailing whitespacegoesintotheextra <br>  arrayelementseps[n],where n is the return <br>  valueofsplit(s,a,r,seps). Splitting <br>  behaves identically to field splitting, <br>  described above. <br>  <br>  sprintf(fmt, expr-list) Print expr-list according tofmt,andreturn <br>  the resulting string. <br>  <br>  strtonum(str) Examinestr, and return its numeric value.If <br>  str begins with a leading 0,treatitasan <br>  octalnumber.If str begins with a leading 0x <br>  or 0X, treat it as a hexadecimal number. Oth‐ <br>  erwise, assume it is a decimal number. <br>  <br>  sub(r, s [, t]) Justlikegsub(),but replace only the first <br>  matching substring. <br>  <br>  substr(s, i [, n])Return the at most n-character substringofs <br>  startingati.If n is omitted, use the rest <br>  of s. <br>  <br>  tolower(str)Return a copy of the string str, withallthe <br>  uppercase characters in str translated to their <br>  correspondinglowercasecounterparts.Non- <br>  alphabetic characters are left unchanged. <br>  <br>  toupper(str)Returnacopy of the string str, with all the <br>  lowercase characters in str translated to their <br>  corresponding uppercasecounterparts. Non- <br>  alphabetic characters are left unchanged. <br>  <br>  Gawk is multibyte aware.This means that index(),length(),substr() <br>  and match() all work in terms of characters, not bytes. <br>  <br>  Time Functions <br>  Sinceoneof the primary uses of AWK programs is processing log files <br>  that contain time stamp information, gawk provides the followingfunc‐ <br>  tions for obtaining time stamps and formatting them. <br>  <br>  mktime(datespec) <br>  Turndatespec into a time stamp of the same form as returned <br>  by systime(), and returntheresult. Thedatespecisa <br>  stringofthe form YYYY MM DD HH MM SS[ DST].The contents <br>  of the string are six or seven numbersrepresentingrespec‐ <br>  tivelythefull year including century, the month from 1 to <br>  12, the day of the month from 1 to 31, the houroftheday <br>  from0to 23, the minute from 0 to 59, the second from 0 to <br>  60, and an optional daylightsavingflag. Thevaluesof <br>  thesenumbersneednot be within the ranges specified; for <br>  example, an hour of -1 means 1hourbeforemidnight. The <br>  origin-zeroGregoriancalendar is assumed, with year 0 pre‐ <br>  ceding year 1 and year -1 precedingyear0. Thetimeis <br>  assumedto be in the local timezone.If the daylight saving <br>  flag is positive, the time is assumed to bedaylightsaving <br>  time;ifzero, the time is assumed to be standard time; and <br>  if negative (the default),mktime()attemptstodetermine <br>  whetherdaylightsaving time is in effect for the specified <br>  time.If datespec does not contain enough elements or if the <br>  resulting time is out of range, mktime() returns -1. <br>  <br>  strftime([format [, timestamp[, utc-flag]]]) <br>  Formattimestampaccordingto the specification in format. <br>  If utc-flag is presentandisnon-zeroornon-null,the <br>  result is in UTC, otherwise the result is in local time.The <br>  timestamp should be of the sameformasreturnedbysys‐ <br>  time(). If timestamp is missing, the current time of day is <br>  used.If format is missing, a default formatequivalentto <br>  theoutput of date(1) is used.The default format is avail‐ <br>  able in PROCINFO["strftime"].See the specification forthe <br>  strftime()function in ISO C for the format conversions that <br>  are guaranteed to be available. <br>  <br>  systime() Return the current time of day as the number of seconds since <br>  the Epoch (1970-01-01 00:00:00 UTC on POSIX systems). <br>  <br>  Bit Manipulations Functions <br>  Gawksuppliesthe following bit manipulation functions.They work by <br>  converting double-precision floating point valuestouintmax_tinte‐ <br>  gers,doingtheoperation,andthenconverting the result back to <br>  floating point.The functions are: <br>  <br>  and(v1, v2 [, ...]) Return the bitwise AND of thevaluesprovidedin <br>  the argument list.There must be at least two. <br>  <br>  compl(val)Return the bitwise complement of val. <br>  <br>  lshift(val, count)Returnthevalueofval,shifted left by count <br>  bits. <br>  <br>  or(v1, v2 [, ...])Return the bitwise OR of the values provided in the <br>  argument list.There must be at least two. <br>  <br>  rshift(val, count)Returnthevalueofval, shifted right by count <br>  bits. <br>  <br>  xor(v1, v2 [, ...]) Return the bitwise XOR of thevaluesprovidedin <br>  the argument list.There must be at least two. <br>  <br>  Type Function <br>  The following function is for use with multidimensional arrays. <br>  <br>  isarray(x) <br> Return true if x is an array, false otherwise. <br>  <br>  Internationalization Functions <br>  Thefollowingfunctionsmay be used from within your AWK program for <br>  translating strings at run-time.For full details, see GAWK: Effective <br>  AWK Programming. <br>  <br>  bindtextdomain(directory [, domain]) <br> Specifythedirectorywhere gawk looks for the .gmo files, in <br> case they will not or cannot be placed in the ``standard'' loca‐ <br> tions(e.g.,duringtesting).It returns the directory where <br> domain is ``bound.'' <br> The default domain is the value of TEXTDOMAIN.If directoryis <br> thenull string (""), then bindtextdomain() returns the current <br> binding for the given domain. <br>  <br>  dcgettext(string [, domain [, category]]) <br> Return the translation ofstringintextdomaindomainfor <br> localecategorycategory.The default value for domain is the <br> current value of TEXTDOMAIN.The default value for categoryis <br> "LC_MESSAGES". <br> If you supply a value for category, it must be a string equal to <br> one of the known locale categories described in GAWK:Effective <br> AWKProgramming. Youmustalsosupplya text domain.Use <br> TEXTDOMAIN if you want to use the current domain. <br>  <br>  dcngettext(string1, string2, number [, domain [, category]]) <br> Return the plural form used for numberofthetranslationof <br> string1andstring2in text domain domain for locale category <br> category.The default value for domain is the current valueof <br> TEXTDOMAIN.The default value for category is "LC_MESSAGES". <br> If you supply a value for category, it must be a string equal to <br> one of the known locale categories described in GAWK:Effective <br> AWKProgramming. Youmustalsosupplya text domain.Use <br> TEXTDOMAIN if you want to use the current domain. <br>  <br> USER-DEFINED FUNCTIONS <br>  Functions in AWK are defined as follows: <br>  <br> function name(parameter list) { statements } <br>  <br>  Functions are executed when they are called from within expressionsin <br>  either patterns or actions.Actual parameters supplied in the function <br>  call are used to instantiate theformalparametersdeclaredinthe <br>  function. Arraysare passed by reference, other variables are passed <br>  by value. <br>  <br>  Since functions were not originally part of the AWK language, thepro‐ <br>  vision for local variables is rather clumsy: They are declared as extra <br>  parameters in the parameter list.The convention is to separatelocal <br>  variablesfromreal parameters by extra spaces in the parameter list. <br>  For example: <br>  <br> functionf(p, q, a, b) - a and b are local <br> { <br>  ... <br> } <br>  <br> /abc/ { ... ; f(1, 2) ; ... } <br>  <br>  The left parenthesis in a function call is required to immediately fol‐ <br>  low the function name, without any intervening whitespace.This avoids <br>  a syntactic ambiguity with the concatenation operator. Thisrestric‐ <br>  tion does not apply to the built-in functions listed above. <br>  <br>  Functionsmaycall each other and may be recursive.Function parame‐ <br>  ters used as local variables are initialized to the null string and the <br>  number zero upon function invocation. <br>  <br>  Use return expr to return a value from a function.The return value is <br>  undefined if no value is provided, or if the function returns by “fall‐ <br>  ing off” the end. <br>  <br>  Asagawkextension, functions may be called indirectly. To do this, <br>  assign the name of the function to be called, as a string, toavari‐ <br>  able.Then use the variable as if it were the name of a function, pre‐ <br>  fixed with an @ sign, like so: <br> functionmyfunc() <br> { <br>  print "myfunc called" <br>  ... <br> } <br>  <br> {... <br>  the_func = "myfunc" <br>  @the_func()- call through the_func to myfunc <br>  ... <br> } <br>  <br>  If --lint has been provided, gawk warns about calls to undefinedfunc‐ <br>  tionsatparsetime,insteadof at run time.Calling an undefined <br>  function at run time is a fatal error. <br>  <br>  The word func may be used in place of function, although this is depre‐ <br>  cated. <br>  <br> DYNAMICALLY LOADING NEW FUNCTIONS <br>  Youcandynamicallyaddnewbuilt-in functions to the running gawk <br>  interpreter with the @load statement.The full details are beyondthe <br>  scope of this manual page; see GAWK: Effective AWK Programming. <br>  <br> SIGNALS <br>  Thegawkprofileracceptstwo signals.SIGUSR1 causes it to dump a <br>  profile and function call stack to the profile file,whichiseither <br>  awkprof.out,or whatever file was named with the --profile option.It <br>  then continues to run.SIGHUP causes gawktodumptheprofileand <br>  function call stack and then exit. <br>  <br> INTERNATIONALIZATION <br>  String constants are sequences of characters enclosed in double quotes. <br>  In non-English speaking environments, it is possible to mark strings in <br>  the AWK program as requiring translation to the local natural language. <br>  Such strings are marked in the AWK program withaleadingunderscore <br>  (“_”).For example, <br>  <br> gawk 'BEGIN { print "hello, world" }' <br>  <br>  always prints hello, world.But, <br>  <br> gawk 'BEGIN { print _"hello, world" }' <br>  <br>  might print bonjour, monde in France. <br>  <br>  There are several steps involved in producing and running a localizable <br>  AWK program. <br>  <br>  1.Add a BEGIN action to assign a value to the TEXTDOMAIN variableto <br>  set the text domain to a name associated with your program: <br>  <br> BEGIN { TEXTDOMAIN = "myprog" } <br>  <br>  Thisallowsgawkto find the .gmo file associated with your pro‐ <br>  gram.Without this step, gawk uses the messages text domain, which <br>  likely does not contain translations for your program. <br>  <br>  2.Markallstringsthatshouldbe translated with leading under‐ <br>  scores. <br>  <br>  3.If necessary, use the dcgettext() and/or bindtextdomain() functions <br>  in your program, as appropriate. <br>  <br>  4.Rungawk--gen-pot-f myprog.awk ] myprog.pot to generate a .pot <br>  file for your program. <br>  <br>  5.Provide appropriate translations, and build and install thecorre‐ <br>  sponding .gmo files. <br>  <br>  The internationalization features are described in full detail in GAWK: <br>  Effective AWK Programming. <br>  <br> POSIX COMPATIBILITY <br>  A primary goal for gawk is compatibility with thePOSIXstandard,as <br>  well as with the latest version of Brian Kernighan's awk.To this end, <br>  gawk incorporates the following user visiblefeatureswhicharenot <br>  describedinthe AWK book, but are part of the Brian Kernighan's ver‐ <br>  sion of awk, and are in the POSIX standard. <br>  <br>  The book indicates that command line variable assignmenthappenswhen <br>  awkwouldotherwiseopenthe argument as a file, which is after the <br>  BEGIN rule is executed.However, in earlier implementations, when such <br>  an assignment appeared before any file names, the assignment would hap‐ <br>  pen before the BEGIN rule was run.Applications came to depend on this <br>  “feature.” Whenawkwaschanged to match its documentation, the -v <br>  option for assigning variables before program executionwasaddedto <br>  accommodateapplicationsthatdepended upon the old behavior.(This <br>  feature was agreed upon by boththeBellLaboratoriesandtheGNU <br>  developers.) <br>  <br>  Whenprocessing arguments, gawk uses the special option “--” to signal <br>  the end of arguments.In compatibility mode, it warns about but other‐ <br>  wiseignoresundefinedoptions.In normal operation, such arguments <br>  are passed on to the AWK program for it to process. <br>  <br>  The AWK book does not define the return value ofsrand(). ThePOSIX <br>  standard has it return the seed it was using, to allow keeping track of <br>  random number sequences.Therefore srand() in gawkalsoreturnsits <br>  current seed. <br>  <br>  Othernew features are: The use of multiple -f options (from MKS awk); <br>  the ENVIRON array; the _a, and _v escape sequences (done originallyin <br>  gawkandfedback into the Bell Laboratories version); the tolower() <br>  and toupper() built-in functions (from the Bell Laboratoriesversion); <br>  andtheISOC conversion specifications in printf (done first in the <br>  Bell Laboratories version). <br>  <br> HISTORICAL FEATURES <br>  There is one feature of historical AWK implementations thatgawksup‐ <br>  ports:Itis possible to call the length() built-in function not only <br>  with no argument, but even without parentheses!Thus, <br>  <br> a = length - Holy Algol 60, Batman! <br>  <br>  is the same as either of <br>  <br> a = length() <br> a = length($0) <br>  <br>  Using this feature is poor practice, and gawk issuesawarningabout <br>  its use if --lint is specified on the command line. <br>  <br> GNU EXTENSIONS <br>  Gawkhasatoo-largenumberofextensions to POSIX awk.They are <br>  described in this section.All the extensions describedherecanbe <br>  disabled by invoking gawk with the --traditional or --posix options. <br>  <br>  The following features of gawk are not available in POSIX awk. <br>  <br>  · Nopathsearchisperformedforfilesnamed via the -f option. <br>  Therefore the AWKPATH environment variable is not special. <br>  <br>  · There is no facility for doing file inclusion (gawk's @include mecha‐ <br>  nism). <br>  <br>  · Thereis no facility for dynamically adding new functions written in <br>  C (gawk's @load mechanism). <br>  <br>  · The _x escape sequence.(Disabled with --posix.) <br>  <br>  · The ability tocontinuelinesafter? and:. (Disabledwith <br>  --posix.) <br>  <br>  · Octal and hexadecimal constants in AWK programs. <br>  <br>  · The ARGIND, BINMODE, ERRNO, LINT, RT and TEXTDOMAIN variables are not <br>  special. <br>  <br>  · The IGNORECASE variable and its side-effects are not available. <br>  <br>  · The FIELDWIDTHS variable and fixed-width field splitting. <br>  <br>  · The FPAT variable and field splitting based on field values. <br>  <br>  · The PROCINFO array is not available. <br>  <br>  · The use of RS as a regular expression. <br>  <br>  · The special file names available for I/O redirection arenotrecog‐ <br>  nized. <br>  <br>  · The |- operator for creating co-processes. <br>  <br>  · The BEGINFILE and ENDFILE special patterns are not available. <br>  <br>  · Theability to split out individual characters using the null string <br>  as the value of FS, and as the third argument to split(). <br>  <br>  · An optional fourth argumenttosplit()toreceivetheseparator <br>  texts. <br>  <br>  · The optional second argument to the close() function. <br>  <br>  · The optional third argument to the match() function. <br>  <br>  · The ability to use positional specifiers with printf and sprintf(). <br>  <br>  · The ability to pass an array to length(). <br>  <br>  · The and(), asort(), asorti(), bindtextdomain(), compl(), dcgettext(), <br>  dcngettext(),gensub(),lshift(), mktime(), or(), patsplit(), <br>  rshift(), strftime(), strtonum(), systime() and xor() functions. <br>  <br>  · Localizable strings. <br>  <br>  TheAWK book does not define the return value of the close() function. <br>  Gawk's close() returns the value fromfclose(3),orpclose(3),when <br>  closing an output file or pipe, respectively.It returns the process's <br>  exit status when closing an input pipe.The return value is -1 ifthe <br>  named file, pipe or co-process was not opened with a redirection. <br>  <br>  Whengawk is invoked with the --traditional option, if the fs argument <br>  to the -F option is “t”, then FS is set tothetabcharacter. Note <br>  thattypinggawk-F_t ...simply causes the shell to quote the “t,” <br>  and does not pass “_t” to the -F option.Since this is aratherugly <br>  specialcase, it is not the default behavior.This behavior also does <br>  not occur if --posix has been specified.To really get a tab character <br>  asthefieldseparator, it is best to use single quotes: gawk -F'_t' <br>  .... <br>  <br> ENVIRONMENT VARIABLES <br>  The AWKPATH environment variable can beusedtoprovidealistof <br>  directories that gawk searches when looking for files named via the -f, <br>  --file, -i and --include options.If theinitialsearchfails,the <br>  path is searched again after appending .awk to the filename. <br>  <br>  TheAWKLIBPATHenvironmentvariable can be used to provide a list of <br>  directories that gawk searches when looking for files named via the-l <br>  and --load options. <br>  <br>  TheGAWK_READ_TIMEOUTenvironmentvariablecan be used to specify a <br>  timeout in milliseconds for reading input from a terminal, pipe or two- <br>  way communication including sockets. <br>  <br>  Forconnection to a remote host via socket, GAWK_SOCK_RETRIES controls <br>  the number of retries, and GAWK_MSEC_SLEEPandtheintervalbetween <br>  retries. The interval is in milliseconds. On systems that do not sup‐ <br>  port usleep(3), the value is rounded up to an integral numberofsec‐ <br>  onds. <br>  <br>  If POSIXLY_CORRECT exists in the environment, then gawk behaves exactly <br>  as if --posix had been specified on the command line. If--linthas <br>  been specified, gawk issues a warning message to this effect. <br>  <br> EXIT STATUS <br>  Iftheexitstatement is used with a value, then gawk exits with the <br>  numeric value given to it. <br>  <br>  Otherwise, if there were no problems during execution, gawk exitswith <br>  the value of the C constant EXIT_SUCCESS.This is usually zero. <br>  <br>  Ifanerroroccurs,gawkexitswiththevalue of the C constant <br>  EXIT_FAILURE.This is usually one. <br>  <br>  If gawk exits because of a fatal error, the exit status is 2.Onnon- <br>  POSIX systems, this value may be mapped to EXIT_FAILURE. <br>  <br> VERSION INFORMATION <br>  This man page documents gawk, version 4.1. <br>  <br> AUTHORS <br>  The original version of UNIX awk was designed and implemented by Alfred <br>  Aho, Peter Weinberger, and Brian Kernighan of Bell Laboratories.Brian <br>  Kernighan continues to maintain and enhance it. <br>  <br>  PaulRubinandJayFenlason, of the Free Software Foundation, wrote <br>  gawk, to be compatible with the original version of awk distributedin <br>  SeventhEditionUNIX. John Woods contributed a number of bug fixes. <br>  David Trueman, with contributions from Arnold Robbins, madegawkcom‐ <br>  patiblewiththe new version of UNIX awk.Arnold Robbins is the cur‐ <br>  rent maintainer. <br>  <br>  See GAWK: Effective AWK Programming for a full list of the contributors <br>  to gawk and its documentation. <br>  <br>  See the README file in the gawk distribution for up-to-date information <br>  about maintainers and which ports are currently supported. <br>  <br> BUG REPORTS <br>  If you find abugingawk,pleasesendelectronicmailtobug- <br>  gawk@gnu.org. Pleaseinclude your operating system and its revision, <br>  the version of gawk (from gawk --version), which C compiler you used to <br>  compileit,and a test program and data that are as small as possible <br>  for reproducing the problem. <br>  <br>  Before sending a bug report, please do thefollowingthings. First, <br>  verifythatyouhave the latest version of gawk.Many bugs (usually <br>  subtle ones) are fixed at each release, and if yours isoutofdate, <br>  theproblemmay already have been solved.Second, please see if set‐ <br>  ting the environment variableLC_ALLtoLC_ALL=Ccausesthingsto <br>  behaveasyouexpect. If so, it's a locale issue, and may or may not <br>  really be a bug.Finally, please read this man page and thereference <br>  manualcarefullytobesure that what you think is a bug really is, <br>  instead of just a quirk in the language. <br>  <br>  Whatever you do, do NOT post a bug report in comp.lang.awk.Whilethe <br>  gawkdevelopersoccasionally read this newsgroup, posting bug reports <br>  there is an unreliable way to report bugs. Instead,pleaseusethe <br>  electronic mail addresses given above.Really. <br>  <br>  If you're using a GNU/Linux or BSD-based system, you may wish to submit <br>  a bug report to the vendor ofyourdistribution. That'sfine,but <br>  please send a copy to the official email address as well, since there's <br>  no guarantee that the bug report will be forwarded tothegawkmain‐ <br>  tainer. <br>  <br> BUGS <br>  The-F option is not necessary given the command line variable assign‐ <br>  ment feature; it remains only for backwards compatibility. <br>  <br>  Syntactically invalid single character programs tendtooverflowthe <br>  parsestack, generating a rather unhelpful message.Such programs are <br>  surprisingly difficult to diagnose in the completely general case,and <br>  the effort to do so really is not worth it. <br>  <br> SEE ALSO <br>  egrep(1), sed(1), getpid(2), getppid(2),getpgrp(2),getuid(2), <br>  geteuid(2), getgid(2), getegid(2), getgroups(2), usleep(3) <br>  <br>  The AWK Programming Language, Alfred V. Aho, Brian W. Kernighan,Peter <br>  J. Weinberger, Addison-Wesley, 1988.ISBN 0-201-07981-X. <br>  <br>  GAWK:EffectiveAWKProgramming,Edition 4.1, shipped with the gawk <br>  source.The current version of this document isavailableonlineat <br>  http://www.gnu.org/software/gawk/manual. <br>  <br> EXAMPLES <br>  Print and sort the login names of all users: <br>  <br> BEGIN { FS = ":" } <br>  { print $1 | "sort" } <br>  <br>  Count lines in a file: <br>  <br>  { nlines++ } <br> END{ print nlines } <br>  <br>  Precede each line by its number in the file: <br>  <br> { print FNR, $0 } <br>  <br>  Concatenate and line number (a variation on a theme): <br>  <br> { print NR, $0 } <br>  <br>  Run an external command for particular lines of data: <br>  <br> tail -f access_log | <br> awk '/myhome.html/ { system("nmap " $1 "]] logdir/myhome.html") }' <br>  <br> ACKNOWLEDGEMENTS <br>  BrianKernighan provided valuable assistance during testing and debug‐ <br>  ging.We thank him. <br>  <br> COPYING PERMISSIONS <br>  Copyright © 1989, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, <br>  2001,2002, 2003, 2004, 2005, 2007, 2009, 2010, 2011, 2012, 2013, 2014 <br>  Free Software Foundation, Inc. <br>  <br>  Permission is granted to make and distribute verbatimcopiesofthis <br>  manualpageprovidedthe copyright notice and this permission notice <br>  are preserved on all copies. <br>  <br>  Permission is granted to copy and distribute modified versions ofthis <br>  manualpageunderthe conditions for verbatim copying, provided that <br>  the entire resulting derived work is distributed under the termsofa <br>  permission notice identical to this one. <br>  <br>  Permissionis granted to copy and distribute translations of this man‐ <br>  ual page into another language, under the above conditions for modified <br>  versions,except that this permission notice may be stated in a trans‐ <br>  lation approved by the Foundation. <br>  <br>  <br>  <br> Free Software FoundationMar 08 2014GAWK(1) <br>  <br> </body></html>